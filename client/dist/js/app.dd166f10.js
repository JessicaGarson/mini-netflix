webpackJsonp([1],{"+VGo":function(t,e){},0:function(t,e,s){t.exports=s("NHnr")},N0xz:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("/5sW"),a=s("rzQm"),n=s.n(a),o=s("mtWM"),l=s.n(o),r={props:["cloudinaryInstance","movie"],mounted:function(){var t=this;this.player=this.cloudinaryInstance.videoPlayer("trailer",{transformation:{crop:"crop",width:1200,aspect_ratio:"16:9",x:10,y:100,gravity:"center"}}),this.player.source(this.movie.trailer||"Marvel_Studios_Black_Panther_-_Official_Trailer_nmrtr7"),document.hidden&&this.player.mute(),window.onfocus=function(){return t.player.unmute()},window.onblur=function(){return t.player.mute()}},watch:{movie:function(t,e){console.log(t,e),this.player.source(t.trailer)}}},c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"trailer-bg"},[s("video",{staticClass:"cld-video-player trailer-bg__video",attrs:{id:"trailer",autoplay:"",loop:"",controls:""}}),s("div",{staticClass:"trailer-content"},[s("h1",{staticClass:"is-size-1\thas-text-weight-bold"},[t._v(t._s(t.movie.title||"Black Panther"))])])])},u=[],d=s("XyMi");function h(t){s("N0xz")}var m=!1,v=h,f=null,p=null,b=Object(d["a"])(r,c,u,m,v,f,p),_=b.exports,w={props:["cloudinaryInstance","movies"]},y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",t._l(Math.ceil(t.movies.length/6),function(e){return s("div",{key:e,staticClass:"columns"},[t.movies.length<1?s("div",[t._v("Loading...")]):t._l(t.movies.slice(6*(e-1),6*e),function(e){return s("div",{key:e._id,staticClass:"column"},[s("img",{staticClass:"banner",attrs:{src:t.cloudinaryInstance.url(e.banner),alt:""},on:{click:function(s){t.$emit("choose-movie",e)}}})])})],2)}))},g=[];function C(t){s("ydda")}var k=!1,x=C,T=null,M=null,$=Object(d["a"])(w,y,g,k,x,T,M),B=$.exports,S=s("HveU"),L={data:function(){return{banner:"",trailer:"",title:""}},props:["showModal"],watch:{showModal:function(t){t?this.$refs.modal.open():this.$refs.modal.close()}},methods:{startUpload:function(t){var e=this;window.cloudinary.openUploadWidget({cloud_name:"christekh",upload_preset:"idcidr0h"},function(s,i){console.log(s,i[0]),"banner"===t?e.banner=i[0].public_id:e.trailer=i[0].public_id})},handleUpload:function(){var t={title:this.title,banner:this.banner,trailer:this.trailer};t.title&&this.banner&&this.trailer&&this.$emit("handle-upload",t)}},components:{SweetModal:S["a"],SweetModalTab:S["b"]}},q=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("sweet-modal",{ref:"modal",attrs:{"modal-theme":"dark","overlay-theme":"dark"}},[s("form",{staticClass:"has-text-left",on:{submit:function(e){e.preventDefault(),t.handleUpload()}}},[s("div",{staticClass:"field"},[s("label",{staticClass:"label has-text-white"},[t._v("Name")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"input",attrs:{type:"text",placeholder:"Text input"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})])]),s("div",{staticClass:"field"},[s("label",{staticClass:"label has-text-white"},[t._v("Upload Banner")]),s("button",{staticClass:"button",on:{click:function(e){t.startUpload("banner")}}},[t._v("Upload")]),s("span",{staticClass:"has-text-white"},[t._v(t._s(t.banner))])]),s("div",{staticClass:"field"},[s("label",{staticClass:"label has-text-white"},[t._v("Upload Video")]),s("button",{staticClass:"button",on:{click:function(e){t.startUpload("trailer")}}},[t._v("Upload")]),s("span",{staticClass:"has-text-white"},[t._v(t._s(t.trailer))])]),s("button",{staticClass:"button is-danger"},[t._v("Submit")])])])},I=[],N=!1,U=null,O=null,E=null,P=Object(d["a"])(L,q,I,N,U,O,E),j=P.exports,V="https://miniflix.cloudinary.auth0-extend.com/server/movies",z={data:function(){return{movie:{},movies:[],showModal:!1,url:V}},created:function(){var t=this;this.cloudinaryInstance=window.cloudinary.Cloudinary.new({cloud_name:"christekh",secure:!0}),l.a.get(this.url).then(function(e){t.movies=e.data})},methods:{updatePlayer:function(t){this.movie=t},uploadToServer:function(t){var e=this;l.a.post(this.url,t).then(function(t){e.movies=n()(e.movies).concat([t.data]),e.showModal=!1})}},components:{VideoPlayer:_,VideoList:B,UploadModal:j}},D=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("nav",{staticClass:"navbar is-fixed-top",attrs:{role:"navigation","aria-label":"main navigation"}},[s("div",{staticClass:"container"},[s("div",{staticClass:"navbar-brand"},[t._m(0),s("div",{staticClass:"navbar-menu"},[s("div",{staticClass:"navbar-end"},[s("a",{staticClass:"button navbar-item",on:{click:function(e){t.showModal=!t.showModal}}},[t._v("\n              Upload\n            ")]),s("a",{staticClass:"button navbar-item"},[s("social-sharing",{attrs:{title:"Build a Mini Netflix from scratch",url:"https://cloudinary.gitbooks.io/build-a-mini-netflix-clone-with-vue/content"},inlineTemplate:{render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("network",{attrs:{network:"twitter"}},[t._v("\n                    Share\n                  ")])],1)},staticRenderFns:[]}})],1)])])])])]),s("VideoPlayer",{attrs:{cloudinaryInstance:t.cloudinaryInstance,movie:t.movie}}),s("div",{staticClass:"container"},[s("h2",{staticClass:"is-size-3"},[t._v("Movies")]),s("VideoList",{attrs:{cloudinaryInstance:t.cloudinaryInstance,movies:t.movies},on:{"choose-movie":t.updatePlayer}})],1),s("UploadModal",{attrs:{showModal:t.showModal},on:{"handle-upload":t.uploadToServer}})],1)},F=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{staticClass:"navbar-item",attrs:{href:"/"}},[s("img",{attrs:{src:"https://cloudinary-res.cloudinary.com/image/upload/v1521663307/MiniFlix-Logo_620x180.png",alt:"Netflix",width:"112",height:"28"}})])}];function H(t){s("+VGo")}var W=!1,X=H,K=null,G=null,Q=Object(d["a"])(z,D,F,W,X,K,G),Y=Q.exports;i["default"].config.productionTip=!1;var J=s("VK1f");i["default"].use(J),new i["default"]({render:function(t){return t(Y)}}).$mount("#app")},YfoY:function(t,e,s){"use strict";var i=s("rzQm"),a=s.n(i),n={name:"SweetModal",props:{title:{type:String,required:!1,default:""},overlayTheme:{type:String,required:!1,default:"light"},modalTheme:{type:String,required:!1,default:"light"},blocking:{type:Boolean,required:!1,default:!1},pulseOnBlock:{type:Boolean,required:!1,default:!0},icon:{type:String,required:!1,default:""},hideCloseButton:{type:Boolean,required:!1,default:!1},enableMobileFullscreen:{type:Boolean,required:!1,default:!0},width:{type:[Number,String],required:!1,default:null}},mounted:function(){this.tabs=this.$children.filter(function(t){return t.cmpName&&"tab"==t.cmpName}),this.has_tabs&&(this.currentTab=this._changeTab(this.tabs[0])),document.addEventListener("keyup",this._onDocumentKeyup)},beforeDestroy:function(){document.removeEventListener("keyup",this._onDocumentKeyup)},data:function(){return{visible:!1,is_open:!1,is_bouncing:!1,tabs:[],backups:{body:{height:null,overflow:null}}}},computed:{has_title:function(){return this.title||this.$slots.title},has_tabs:function(){return this.tabs.length>0},has_content:function(){return this.$slots.default},current_tab:function(){return this.tabs.filter(function(t){return!0===t.active})[0]},overlay_classes:function(){return["sweet-modal-overlay","theme-"+this.overlayTheme,"sweet-modal-clickable",{"is-visible":this.visible,blocking:this.blocking}]},modal_classes:function(){return["sweet-modal","theme-"+this.modalTheme,{"has-title":this.has_title,"has-tabs":this.has_tabs,"has-content":this.has_content,"has-icon":this.icon,"is-mobile-fullscreen":this.enableMobileFullscreen,"is-visible":this.visible,"is-alert":this.icon&&!this.has_tabs||!this.icon&&!this.title&&!this.$slots.title,bounce:this.is_bouncing}]},modal_style:function(){var t=this.width,e=null;return null!==t&&(Number(t)==t&&(t+="px"),e="none"),{width:t,maxWidth:e}}},methods:{open:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e&&this.has_tabs){var s=this.tabs.filter(function(t){return t.id===e});if(s.length>0)this.currentTab=this._changeTab(s[0]);else{var i=this.tabs[e];i&&(this.currentTab=this._changeTab(i))}}this.is_open=!0,this._lockBody(),this._animateIcon(),setTimeout(function(){return t.visible=!0},30),this.$emit("open")},close:function(){var t=this;this.visible=!1,this._unlockBody(),setTimeout(function(){return t.is_open=!1},300),this.$emit("close")},bounce:function(){var t=this;this.is_bouncing=!0,setTimeout(function(){return t.is_bouncing=!1},330)},_lockBody:function(){this.backups.body.height=document.body.style.height,this.backups.body.overflow=document.body.style.overflow,document.body.style.height="100%",document.body.style.overflow="hidden"},_unlockBody:function(){document.body.style.height=this.backups.body.height,document.body.style.overflow=this.backups.body.overflow},_onOverlayClick:function(t){t.target.classList&&!t.target.classList.contains("sweet-modal-clickable")||(this.blocking?this.pulseOnBlock&&this.bounce():this.close())},_onDocumentKeyup:function(t){27==t.keyCode&&(this.blocking?this.pulseOnBlock&&this.bounce():this.close())},_changeTab:function(t){this.tabs.map(function(e){return e.active=e==t}),this.currentTab=t},_getClassesForTab:function(t){return["sweet-modal-tab",{active:t.active,disabled:t.disabled}]},_animateIcon:function(){var t=this;if(this.icon)switch(this.icon){case"success":setTimeout(function(){t._applyClasses(t.$refs.icon_success,{"":["animate"],".sweet-modal-tip":["animateSuccessTip"],".sweet-modal-long":["animateSuccessLong"]})},80);break;case"warning":this._applyClasses(this.$refs.icon_warning,{"":["pulseWarning"],".sweet-modal-body":["pulseWarningIns"],".sweet-modal-dot":["pulseWarningIns"]});break;case"error":setTimeout(function(){t._applyClasses(t.$refs.icon_error,{"":["animateErrorIcon"],".sweet-modal-x-mark":["animateXMark"]})},80);break}},_applyClasses:function(t,e){for(var s in e){var i,n,o=e[s],l=void 0;l=""==s?t:t.querySelector(s),(i=l.classList).remove.apply(i,a()(o)),(n=l.classList).add.apply(n,a()(o))}}}},o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.is_open,expression:"is_open"}],class:t.overlay_classes,on:{click:t._onOverlayClick}},[s("div",{class:t.modal_classes,style:t.modal_style},[s("div",{staticClass:"sweet-box-actions"},[t._t("box-action"),t.hideCloseButton?t._e():s("div",{staticClass:"sweet-action-close",on:{click:t.close}},[s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[s("path",{attrs:{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z",fill:"#292c34"}})])])],2),t.has_title||t.has_tabs?s("div",{staticClass:"sweet-title"},[t.has_tabs&&!t.has_title?[s("ul",{staticClass:"sweet-modal-tabs"},t._l(t.tabs,function(e){return s("li",{class:t._getClassesForTab(e)},[s("a",{attrs:{href:"#"},on:{click:function(s){s.preventDefault(),t._changeTab(e)}}},[s("div",{staticClass:"sweet-modal-valign"},[e.icon?s("span",{staticClass:"sweet-modal-tab-icon",domProps:{innerHTML:t._s(e.icon)}}):t._e(),s("span",{staticClass:"sweet-modal-tab-title"},[t._v(t._s(e.title))])])])])}))]:t._e(),t.has_title?[t.title?s("h2",{domProps:{innerHTML:t._s(t.title)}}):t._e(),t._t("title")]:t._e()],2):t._e(),t.has_title&&t.has_tabs?s("ul",{staticClass:"sweet-modal-tabs"},t._l(t.tabs,function(e){return s("li",{class:t._getClassesForTab(e)},[s("a",{attrs:{href:"#"},on:{click:function(s){s.preventDefault(),t._changeTab(e)}}},[s("div",{staticClass:"sweet-modal-valign"},[e.icon?s("span",{staticClass:"sweet-modal-tab-icon",domProps:{innerHTML:t._s(e.icon)}}):t._e(),s("span",{staticClass:"sweet-modal-tab-title"},[t._v(t._s(e.title))])])])])})):t._e(),s("div",{ref:"content",staticClass:"sweet-content"},["error"==t.icon?s("div",{ref:"icon_error",staticClass:"sweet-modal-icon sweet-modal-error"},[t._m(0)]):t._e(),"warning"==t.icon?s("div",{ref:"icon_warning",staticClass:"sweet-modal-icon sweet-modal-warning"},[s("span",{staticClass:"sweet-modal-body"}),s("span",{staticClass:"sweet-modal-dot"})]):t._e(),"info"==t.icon?s("div",{ref:"icon_info",staticClass:"sweet-modal-icon sweet-modal-info"}):t._e(),"success"==t.icon?s("div",{ref:"icon_success",staticClass:"sweet-modal-icon sweet-modal-success"},[s("span",{staticClass:"sweet-modal-line sweet-modal-tip"}),s("span",{staticClass:"sweet-modal-line sweet-modal-long"}),s("div",{staticClass:"sweet-modal-placeholder"}),s("div",{staticClass:"sweet-modal-fix"})]):t._e(),t.$slots.default?s("div",{staticClass:"sweet-content-content"},[t._t("default")],2):t._e()]),t.$slots.button?s("div",{staticClass:"sweet-buttons"},[t._t("button")],2):t._e()])])},l=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"sweet-modal-x-mark"},[s("span",{staticClass:"sweet-modal-line sweet-modal-left"}),s("span",{staticClass:"sweet-modal-line sweet-modal-right"})])}],r=s("XyMi");function c(t){s("kXdi")}var u=!1,d=c,h=null,m=null,v=Object(r["a"])(n,o,l,u,d,h,m);e["a"]=v.exports},d5ji:function(t,e){},iiMH:function(t,e,s){"use strict";var i={props:{title:{type:String,required:!0},id:{type:String,required:!0},icon:{type:String,required:!1,default:null},disabled:{type:Boolean,required:!1,default:!1}},data:function(){return{active:!1}},computed:{cmpName:function(){return"tab"}}},a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:["sweet-modal-tab",{active:t.active}]},[t._t("default")],2)},n=[],o=s("XyMi");function l(t){s("d5ji")}var r=!1,c=l,u=null,d=null,h=Object(o["a"])(i,a,n,r,c,u,d);e["a"]=h.exports},kXdi:function(t,e){},ydda:function(t,e){}},[0]);
//# sourceMappingURL=app.dd166f10.js.map